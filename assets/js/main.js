function addParallaxEffect(){let i,r;var e;(r=(i=document.getElementsByClassName("parallax-scroll")[0])?i.querySelector(".bg-image"):r)&&(e=i.getBoundingClientRect(),window.scrollY,e.y,window.onscroll=()=>{var e=i.getBoundingClientRect(),t=Math.abs(e.y);console.log(e),console.log(t),t<=e.height&&(r.style.backgroundPosition="center "+t/2+"px")})}function openSidebar(){let e=document.getElementById("sidebar-shield");e.classList.add("display"),setTimeout(()=>{e.classList.add("showing")})}function closeSidebar(){let e=document.getElementById("sidebar-shield");e.classList.remove("showing"),setTimeout(()=>{e.classList.remove("display")},210)}function registerAllSlideshows(){for(var e of document.getElementsByClassName("slideshow-wrapper"))registerSlideshow(e)}function registerSlideshow(e){let t=e.getElementsByClassName("slideshow")[0];var i=e.getElementsByClassName("preview-image"),e=t.getElementsByClassName("previous-btn")[0],r=t.getElementsByClassName("next-btn")[0],n=t.getElementsByClassName("image");t.getElementsByClassName("dots-wrapper")[0];t.currentImageIndex=0,t.maxIndex=n.length-1,e.indexShift=-1,r.indexShift=1,e.addEventListener("click",onSlideshowBtnMove),r.addEventListener("click",onSlideshowBtnMove),registerSwipeListener(t);for(let e=0;e<i.length;e++){var s=i[e];s.slideshowIndex=e,s.addEventListener("click",e=>{doSlideshowMove(t,e.currentTarget.slideshowIndex)})}}function registerSwipeListener(e){e.addEventListener("touchstart",e=>{e.currentTarget.lastTouchStartX=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",e=>{var t=e.changedTouches[0].screenX-e.currentTarget.lastTouchStartX;t<-50&&onSlideshowSwipeMove(e.currentTarget,1),50<t&&onSlideshowSwipeMove(e.currentTarget,-1)})}function onSlideshowBtnMove(e){var t=e.currentTarget.parentNode;doSlideshowMove(t,calculateNextSlideshowIndex(t,e.currentTarget.indexShift))}function onSlideshowSwipeMove(e,t){doSlideshowMove(e,calculateNextSlideshowIndex(e,t))}function doSlideshowMove(e,t){var i=e.maxIndex,r=(e.currentImageIndex=t,e.getElementsByClassName("dot")),n=e.getElementsByClassName("image");console.log(i);for(let e=0;e<=i;e++)updateSlideshowElementState(r[e],e==t),updateSlideshowElementState(n[e],e==t)}function updateSlideshowElementState(e,t){!t&&e.classList.contains("active")?e.classList.remove("active"):t&&e.classList.add("active")}function calculateNextSlideshowIndex(e,t){var i=e.currentImageIndex,e=e.maxIndex;let r=i+t;return r<0?r=e:r>e&&(r=0),r}window.onload=()=>{addParallaxEffect(),registerAllSlideshows()};let MAX_QTY=5,ALL_PRODUCTS={price_1QuzLKEnmUYXdCQkMZWYpCoJ:{id:"price_1QuzLKEnmUYXdCQkMZWYpCoJ",name:"Circles",price:15,imageSrc:"/assets/images/collages/circles.jpg"},price_1QuzLJEnmUYXdCQkMbNgsovE:{id:"price_1QuzLJEnmUYXdCQkMbNgsovE",name:"Floorboards",price:15,imageSrc:"/assets/images/collages/floorboards.jpg"},price_1QuzLHEnmUYXdCQksDy5yLvg:{id:"price_1QuzLHEnmUYXdCQksDy5yLvg",name:"Blue fabrics",price:15,imageSrc:"/assets/images/collages/blue_fabrics.jpg"},price_1QuzLFEnmUYXdCQkppHiM8YF:{id:"price_1QuzLFEnmUYXdCQkppHiM8YF",name:"Lemons",price:15,imageSrc:"/assets/images/collages/lemons.jpg"},price_1QuzLEEnmUYXdCQkMYXJMjQ2:{id:"price_1QuzLEEnmUYXdCQkMYXJMjQ2",name:"Pink and brown",price:15,imageSrc:"/assets/images/collages/pink_and_brown.jpg"},price_1QuzLCEnmUYXdCQk4E1Y2MEQ:{id:"price_1QuzLCEnmUYXdCQk4E1Y2MEQ",name:"Three pieces",price:15,imageSrc:"/assets/images/collages/three_pieces.jpg"},price_1QuzLBEnmUYXdCQk3zBspbRY:{id:"price_1QuzLBEnmUYXdCQk3zBspbRY",name:"Gate collage 1",price:15,imageSrc:"/assets/images/collages/gate_collage_1.jpg"},price_1QuzL9EnmUYXdCQkO71p9rSL:{id:"price_1QuzL9EnmUYXdCQkO71p9rSL",name:"Gate collage 2",price:15,imageSrc:"/assets/images/collages/gate_collage_2.jpg"},price_1QuzLiEnmUYXdCQkDHM270fU:{id:"price_1QuzLiEnmUYXdCQkDHM270fU",name:"Gate collage 3",price:15,imageSrc:"/assets/images/collages/gate_collage_3.jpg"},price_1QuzL7EnmUYXdCQkgAxeTbE9:{id:"price_1QuzL7EnmUYXdCQkgAxeTbE9",name:"Blue and green",price:15,imageSrc:"/assets/images/mixedmedia/blue_and_green.jpg"},price_1QuzL5EnmUYXdCQkW1L5WPRg:{id:"price_1QuzL5EnmUYXdCQkW1L5WPRg",name:"Pink and yellow",price:15,imageSrc:"/assets/images/mixedmedia/pink_and_yellow.jpg"},price_1QuzL4EnmUYXdCQkON87TC2s:{id:"price_1QuzL4EnmUYXdCQkON87TC2s",name:"Green and orange",price:15,imageSrc:"/assets/images/mixedmedia/green_and_orange.jpg"},price_1QuzL3EnmUYXdCQkrZ464KKd:{id:"price_1QuzL3EnmUYXdCQkrZ464KKd",name:"Continuous line 1",price:15,imageSrc:"/assets/images/lifedrawings/continuous_line_1.jpg"},price_1QuzL2EnmUYXdCQkDs8KAkcw:{id:"price_1QuzL2EnmUYXdCQkDs8KAkcw",name:"Continuous line 2",price:15,imageSrc:"/assets/images/lifedrawings/continuous_line_2.jpg"},price_1QuzL0EnmUYXdCQk6vYVFrm1:{id:"price_1QuzL0EnmUYXdCQk6vYVFrm1",name:"Two poses",price:15,imageSrc:"/assets/images/lifedrawings/two_poses.jpg"},price_1QuzKqEnmUYXdCQkucfL4eR6:{id:"price_1QuzKqEnmUYXdCQkucfL4eR6",name:"Woman portrait",price:15,imageSrc:"/assets/images/lifedrawings/woman_portrait.jpg"}};function addProductToCart(t,i,e){if(!ALL_PRODUCTS[t])throw new Error("Invalid Product");if(i<=0||e<i)throw new Error("Invalid Quantity");var r,n=getCurrentCart();let s=!1;for(let e=0;e<n.items.length;e++)n.items[e].price===t&&(s=!0,r=parseInt(n.items[e].maxQuantity),n.items[e].quantity=parseInt(n.items[e].quantity)+parseInt(i),n.items[e].quantity>r)&&(n.items[e].quantity=r);s||n.items.push({price:t,quantity:parseInt(i),maxQuantity:parseInt(e)}),setCookieObject("ia_cart",n,1)}function removeProductFromCart(t){let i=-1;var r=getCurrentCart();for(let e=0;e<r.items.length;e++)if(r.items[e].price===t){i=e;break}-1<i&&(r.items.splice(i,1),setCookieObject("ia_cart",r,1))}function emptyCart(){setCookieObject("ia_cart",{items:[]},1)}function updateItemQuantity(t,i){if(!ALL_PRODUCTS[t])throw new Error("Invalid Product");if(i<=0||i>MAX_QTY)throw new Error("Invalid Quantity");var r=getCurrentCart();for(let e=0;e<r.items.length;e++)if(r.items[e].price===t)return r.items[e].quantity=parseInt(i),setCookieObject("ia_cart",r,1),r.items[e]}function getCurrentCart(){var e=getCookieObject("ia_cart");return null==e?{items:[]}:e}function goToStripeCheckout(){var e=Stripe("pk_live_51QDGweEnmUYXdCQkFwvG2mZTlQJYdmROFUODCNwRAMEwBZ9FzlHQnesfauVnXE3NUJ8JMDJ37887lyUgvsYOkp7300CKY4wk79"),t=getCurrentCart();0<t.items.length&&e.redirectToCheckout({lineItems:t.items,shippingAddressCollection:{allowedCountries:["GB"]},mode:"payment",successUrl:"https://izzysempill.com/success",cancelUrl:"https://izzysempill.com/cart"}).then(function(e){e.error&&console.error(e.error)})}function cleanCart(){var t=[],i=getCurrentCart();for(let e=0;e<i.items.length;e++){var r=i.items[e].price;ALL_PRODUCTS[r]||t.push(r)}for(let e=0;e<t.length;e++)removeProductFromCart(t[e])}function getCookieObject(e){var i=e+"=",r=decodeURIComponent(document.cookie).split(";");for(let t=0;t<r.length;t++){let e=r[t];for(;" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(i))return JSON.parse(e.substring(i.length,e.length))}return null}function setCookieObject(e,t,i){var r=new Date,i=(r.setTime(r.getTime()+24*i*60*60*1e3),"expires="+r.toUTCString());document.cookie=e+"="+JSON.stringify(t)+";"+i+";path=/"}